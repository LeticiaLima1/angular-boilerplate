<h1 mat-dialog-title class="titulo">Cadastrar novo membro</h1>
<div mat-dialog-content class="subtitulo">
    Insira os dados abaixo para cadastrar um novo membro ao RIOTT.
</div>
<div>
  <form [formGroup]="form" (ngSubmit)="cadastrar()">
         <div> 
          <button
              class="botao-up"
              type="button"
              (click)="fileInput.click()">
              
              
                <div class="row"   *ngIf="!preview">
                  <i class="fa fa-file-o fa-3x icone col-3"></i>
                  <p class="texto-up col-9"> Arraste ou <span style="text-decoration: underline;">clique aqui </span> para fazer o upload da <span style="font-weight: 500">foto do usuário</span> </p>
                </div>
              
              
              <div class="row">
                <div *ngIf="preview">
                  <app-membro
                    [url]="preview" 
                    title="Preview">
                  </app-membro>
                  <p class="texto-up2 col-8"> Arraste ou <span style="text-decoration: underline;">clique aqui </span> para trocar a <span style="font-weight: 500">foto do usuário</span> </p>
                </div>
              </div>

            </button>
            <input #fileInput
            type="file" 
            hidden 
            required
            accept="image/png, image/jpg"
            (change)="gravaArquivo($event.target)"/>
            <div 
            id='lbError' 
            class='warning'>
        </div>
     </div>
  
      <mat-form-field class="c-dados" appearance="outline" floatLabel="always">
          <mat-label class="c-itens">Nome do membro</mat-label>
          <input  
              matInput 
              type="text" 
              placeholder="Nome do membro" 
              formControlName="nome"
              [(ngModel)]="nome"
              required
              >
              <app-mensagem
                  *ngIf="form.get('nome')?.errors && form.get('nome')?.touched"
                  mensagem="Nome obrigatório">
              </app-mensagem>
      </mat-form-field>

      <mat-form-field class="c-dados" appearance="outline" floatLabel="always">
        <mat-label class="c-itens">Data de nascimento</mat-label>
          <input 
              matInput 
              type="date" 
              placeholder="Data de nascimento" 
              formControlName="dataNascimento"
              [(ngModel)]="dataNascimento"
              required>
              <app-mensagem
                  *ngIf="form.get('dataNascimento')?.errors && form.get('dataNascimento')?.touched"
                  mensagem="Data de Nascimento obrigatória">
              </app-mensagem>
              <app-mensagem
                  *ngIf="validarDataNascimento()"
                  mensagem="{{mensagemErroDtNascimento}}">
              </app-mensagem>
      </mat-form-field>
  
      <mat-form-field class="c-dados" appearance="outline" floatLabel="always">
        <mat-label >Valor da mesada</mat-label>
          <input 
              matInput 
              type="number"
              formControlName="valorMesada"
              placeholder="Valor da mesada" 
              [(ngModel)]="valorMesada"
              required
              min="0"
              step=".01">
              <app-mensagem
                  *ngIf="form.get('valorMesada')?.errors && form.get('valorMesada')?.touched"
                  mensagem="Valor da mesada é obrigatório">
              </app-mensagem>
              <app-mensagem
                  *ngIf="form.get('valorMesada').value < 0"
                  mensagem="Valor da mesada deve ser positivo">
              </app-mensagem>
      </mat-form-field>
      
        <div class="row ">
          <button mat-raised-button type="submit" class="campos-botao">Cadastrar membro</button>
        </div>

        <div class="row">
           <button mat-stroked-button class="botao-cancelar"  (click)="cancelar()">Cancelar</button>
        </div> 

</form>
</div> 
